!function(){var e,t=function(e){var t;return function(n){return t||e(t={exports:{},parent:n},t.exports),t.exports}}((function(e,t){"use strict";e.exports=Je.isStandardBrowserEnv()?{write:function(e,t,n,r,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),Je.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Je.isString(r)&&s.push("path="+r),Je.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}})),n={},r=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){function t(t,n,r,o){var i=e.call(this,t+": "+n)||this;return i.name=r,i.stack=o,i}return r(t,e),t}(Error);n.default=o;var i={};Object.defineProperty(i,"__esModule",{value:!0}),i.CommunicationOptions=void 0;var s=function(e,t,n,r,o,i,s){this.analytics=e,this.core=t,this.session=n,this.appendControl=r,this.controlsContainer=o,this.coreCommunicationOptions=i,this.streamContainers=s};i.CommunicationOptions=s;var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.Credential=void 0;var c=function(e,t,n){this.apiKey=e,this.sessionId=t,this.token=n};a.Credential=c;var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.PubSubSummary=void 0;var l=function(e,t){this.publisher=e.getCount(),this.subscriber=t.getCount()};u.PubSubSummary=l;var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.PubSubDetail=void 0;var f=function(e,t){this.publishers=e,this.subscribers=t,this.meta=new u.PubSubSummary(this.publishers,this.subscribers)};h.PubSubDetail=f;var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.StreamType=p.StreamCollectionSummary=void 0;var d,v=function(){function e(e,t,n,r){this.camera=e,this.screen=t,this.custom=n,this.sip=r}return e.prototype.total=function(){return this.camera+this.screen+this.sip},e}();p.StreamCollectionSummary=v,(d=p.StreamType||(p.StreamType={})).Camera="camera",d.Custom="custom",d.Screen="screen",d.SIP="sip";var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.StreamCollection=void 0;var g=function(){function e(){this.camera={},this.custom={},this.screen={},this.sip={}}return e.prototype.getCount=function(){return new p.StreamCollectionSummary(Object.keys(this.camera).length,Object.keys(this.custom).length,Object.keys(this.screen).length,Object.keys(this.sip).length)},e.prototype.addStream=function(e,t){var n;this[e][t.id||(null===(n=t.stream)||void 0===n?void 0:n.streamId)]=t},e.prototype.removeStream=function(e,t){var n;delete this[e][t.id||(null===(n=t.stream)||void 0===n?void 0:n.streamId)]},e.prototype.getStream=function(e){return this.camera[e]||this.screen[e]||this.custom[e]||this.sip[e]},e.prototype.reset=function(){this.camera={},this.custom={},this.screen={},this.sip={}},e}();b.StreamCollection=g;var m={};Object.defineProperty(m,"__esModule",{value:!0});var y={},S=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),O=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||S(t,e,n)};Object.defineProperty(y,"__esModule",{value:!0}),O(m,y);var C={};Object.defineProperty(C,"__esModule",{value:!0});var w={};Object.defineProperty(w,"__esModule",{value:!0});var P={};Object.defineProperty(P,"__esModule",{value:!0});var _={},T=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),E=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||T(t,e,n)};Object.defineProperty(_,"__esModule",{value:!0}),E(y,_),E(C,_),E(w,_),E(P,_);var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.CoreAnalyticsOptions=void 0;var L=function(){};A.CoreAnalyticsOptions=L;var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.ParentOptions=j.CoreAnnotationOptions=void 0;var k=function(e,t,n,r){this.items=e,this.colors=t,this.onScreenCapture=n,this.absoluteParent=r};j.CoreAnnotationOptions=k;var x=function(e,t){this.publisher=e,this.subscriber=t};j.ParentOptions=x;var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.CoreArchivingOptions=void 0;var M=function(e,t){this.startURL=e,this.stopURL=t};D.CoreArchivingOptions=M;var V={};Object.defineProperty(V,"__esModule",{value:!0}),V.CoreCommunicationOptions=void 0;var I=function(e,t,n,r,o){void 0===e&&(e=!0),void 0===n&&(n=null),void 0===o&&(o=!1),this.autoSubscribe=e,this.callProperties=t,this.connectionLimit=n,this.screenProperties=r,this.subscribeOnly=o};V.CoreCommunicationOptions=I;var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.CoreOptions=void 0;var K=function(e,t,n,r,o,i,s,a,c,u,l){void 0===o&&(o=!1),this.credentials=e,this.controlsContainer=t,this.packages=n,this.streamContainers=r,this.largeScale=o,this.applicationName=i,this.annotation=s,this.archiving=a,this.communication=c,this.textChat=u,this.screenSharing=l};R.CoreOptions=K;var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.CorePackages=void 0;var N=function(e,t,n,r){this.Annotation=e,this.Archiving=t,this.ScreenSharing=n,this.TextChat=r};U.CorePackages=N;var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.CoreScreenSharingOptions=void 0;var q=function(e,t,n,r,o,i){this.extensionID=e,this.extensionPathFF=t,this.annotation=n,this.externalWindow=r,this.dev=o,this.screenProperties=i};B.CoreScreenSharingOptions=q;var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.CoreTextChatOptions=void 0;var z=function(e,t,n,r){this.name=e,this.waitingMessage=t,this.container=n,this.alwaysOpen=r};F.CoreTextChatOptions=z;var H={},J=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),G=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||J(t,e,n)};Object.defineProperty(H,"__esModule",{value:!0}),G(A,H),G(j,H),G(D,H),G(V,H),G(R,H),G(U,H),G(B,H),G(F,H);var X,W={},$=this&&this.__extends||(X=function(e,t){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}X(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(W,"__esModule",{value:!0}),W.StartScreenShareEvent=void 0;var Q=function(e){function t(t,n){var r=e.call(this,n.publishers,n.subscribers)||this;return r.publisher=t,r}return $(t,e),t}(h.PubSubDetail);W.StartScreenShareEvent=Q;var Y,Z={},ee=this&&this.__extends||(Y=function(e,t){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(Z,"__esModule",{value:!0}),Z.EndScreenShareEvent=void 0;var te=function(e){function t(t){return e.call(this,t.publishers,t.subscribers)||this}return ee(t,e),t}(h.PubSubDetail);Z.EndScreenShareEvent=te;var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.SubscribeToScreenEvent=void 0;var re=function(e){this.subscriber=e};ne.SubscribeToScreenEvent=re;var oe={},ie=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),se=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||ie(t,e,n)};Object.defineProperty(oe,"__esModule",{value:!0}),se(W,oe),se(Z,oe),se(ne,oe);var ae={},ce=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),ue=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||ce(t,e,n)};Object.defineProperty(ae,"__esModule",{value:!0}),ue(i,ae),ue(a,ae),ue(h,ae),ue(u,ae),ue(b,ae),ue(p,ae),ue(_,ae),ue(H,ae),ue(oe,ae);var le={},he=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(le,"__esModule",{value:!0});var fe=he(n),pe=function(){function e(e){this.credentials=null,this.publishers=new ae.StreamCollection,this.session=null,this.streamMap={},this.streams={},this.subscribers=new ae.StreamCollection,this.setCredentials(e)}return e.prototype.validateCredentials=function(e){if(null===e)throw new fe.default("otSDK","Missing credentails required for initialization","invalidParameters");["apiKey","sessionId","token"].forEach((function(t){if(!e[t])throw new fe.default("otSDK",t+" is a required credential","invalidParameters")}))},e.prototype.setConnected=function(e){this.connected=e},e.prototype.getConnected=function(){return this.connected},e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(e){this.options=e},e.prototype.getSession=function(){return this.session},e.prototype.setSession=function(e){this.session=e},e.prototype.getCredentials=function(){return this.credentials},e.prototype.setCredentials=function(e){this.validateCredentials(e),this.credentials=e},e.prototype.getStreams=function(){return this.streams},e.prototype.pubSubCount=function(){return new ae.PubSubSummary(this.publishers,this.subscribers)},e.prototype.getPubSub=function(){return new ae.PubSubDetail(this.publishers,this.subscribers)},e.prototype.getSubscriber=function(e){var t=this.streamMap[e];if(t)return this.subscribers.getStream(t)},e.prototype.getPublisher=function(e){var t=this.streamMap[e];if(t)return this.publishers.getStream(t)},e.prototype.getPublishers=function(e){return Object.values(this.publishers[e]).map((function(e){return e}))},e.prototype.addPublisher=function(e,t){this.publishers.addStream(e,t),this.streamMap[t.stream.streamId]=t.id},e.prototype.removePublisher=function(e,t){this.publishers.removeStream(e,t)},e.prototype.removeAllPublishers=function(){this.publishers.reset()},e.prototype.addSubscriber=function(e){this.subscribers.addStream(e.stream.videoType,e),this.streamMap[e.stream.streamId]=e.id},e.prototype.removeSubscriber=function(e){e&&this.subscribers.removeStream(e.stream.videoType,e)},e.prototype.addStream=function(e){this.streams[e.streamId]=e},e.prototype.removeStream=function(e){var t=e.videoType,n=this.streamMap[e.streamId];delete this.streamMap[e.streamId],delete this.streams[e.streamId],this.removeSubscriber(this.subscribers[t][n])},e.prototype.reset=function(){this.publishers.reset(),this.subscribers.reset(),this.streamMap={},this.streams={}},e.prototype.getStreamMap=function(){return this.streamMap},e.prototype.all=function(){return Object.assign(this.streams,this.streamMap,this.connected,this.getPubSub())},e}();le.default=pe;var de,ve,be={};Object.defineProperty(be,"__esModule",{value:!0}),be.ScreenSharingEvents=be.CoreEvents=void 0,(ve=be.CoreEvents||(be.CoreEvents={})).Connected="connected",ve.StartScreenShare="startScreenShare",ve.EndScreenShare="endScreenShare",(de=be.ScreenSharingEvents||(be.ScreenSharingEvents={})).StartScreensharing="startScreenSharing",de.EndScreenSharing="endScreenSharing";var ge,me={};Object.defineProperty(me,"__esModule",{value:!0}),me.LogAction=void 0,(ge=me.LogAction||(me.LogAction={})).init="Init",ge.initPackages="InitPackages",ge.connect="ConnectCoreAcc",ge.disconnect="DisconnectCoreAcc",ge.forceDisconnect="ForceDisconnectCoreAcc",ge.forceUnpublish="ForceUnpublishCoreAcc",ge.getAccPack="GetAccPack",ge.signal="SignalCoreAcc",ge.startCall="StartCallCoreAcc",ge.endCall="EndCallCoreAcc",ge.toggleLocalAudio="ToggleLocalAudio",ge.toggleLocalVideo="ToggleLocalVideo",ge.toggleRemoteAudio="ToggleRemoteAudio",ge.toggleRemoteVideo="ToggleRemoteVideo",ge.subscribe="SubscribeCoreAcc",ge.unsubscribe="UnsubscribeCoreAcc";var ye,Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.LogVariation=void 0,(ye=Se.LogVariation||(Se.LogVariation={})).attempt="Attempt",ye.success="Success",ye.fail="Fail";var Oe,Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.Packages=void 0,(Oe=Ce.Packages||(Ce.Packages={})).Annotation="annotation",Oe.Archiving="archiving",Oe.Communication="communication",Oe.ScreenSharing="screenSharing",Oe.TextChat="textChat";var we,Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.OpenTokEvents=void 0,(we=Pe.OpenTokEvents||(Pe.OpenTokEvents={})).StreamCreated="streamCreated",we.StreamDestroyed="streamDestroyed",we.SessionConnected="sessionConnected",we.SessionReconnected="sessionReconnected",we.SessionDisconnected="sessionDisconnected";var _e={},Te=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),Ee=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||Te(t,e,n)};Object.defineProperty(_e,"__esModule",{value:!0}),Ee(be,_e),Ee(me,_e),Ee(Se,_e),Ee(Ce,_e),Ee(Pe,_e);var Ae,Le={},je=this&&this.__extends||(Ae=function(e,t){return(Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ae(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),ke=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(xt){i(xt)}}function a(e){try{c(r.throw(e))}catch(xt){i(xt)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},xe=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(xt){i=[6,xt],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},De=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},Me=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(De(arguments[t]));return e},Ve=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Le,"__esModule",{value:!0});var Ie=Ve(n),Re=function(e){function t(t,n){var r=e.call(this,t)||this,o=OT.initSession(t.apiKey,t.sessionId,n);return o&&r.setSession(o),r}return je(t,e),t.prototype.isMe=function(e){var t=this.getSession();return t&&t.connection.connectionId===e.connectionId},t.prototype.setInternalListeners=function(){var e=this,t=this.getSession();t&&(t.on(_e.OpenTokEvents.StreamCreated,(function(t){var n=t.stream;return e.addStream(n)})),t.on(_e.OpenTokEvents.StreamDestroyed,(function(t){var n=t.stream;return e.removeStream(n)})),t.on(_e.OpenTokEvents.SessionConnected+" "+_e.OpenTokEvents.SessionReconnected,(function(){return e.setConnected(!0)})),t.on(_e.OpenTokEvents.SessionDisconnected,(function(){return e.setConnected(!1)})))},t.prototype.on=function(e,t){var n=this.getSession();n&&("string"!=typeof e?Ue(n,this,e):t&&Ke(n,this,e,t))},t.prototype.off=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSession();n&&n.off.apply(n,Me(e))},t.prototype.enablePublisherAudio=function(e){this.getPublishers(ae.StreamType.Camera).forEach((function(t){return t.publishAudio(e)}))},t.prototype.enablePublisherVideo=function(e){this.getPublishers(ae.StreamType.Camera).forEach((function(t){return t.publishVideo(e)}))},t.prototype.enableSubscriberAudio=function(e,t){var n=this.getSubscriber(e);n&&n.subscribeToAudio(t)},t.prototype.enableSubscriberVideo=function(e,t){var n=this.getSubscriber(e);n&&n.subscribeToVideo(t)},t.prototype.publish=function(e,t,n,r){return void 0===n&&(n=null),void 0===r&&(r=!1),ke(this,void 0,void 0,(function(){var o;return xe(this,(function(i){switch(i.label){case 0:return[4,this.initPublisher(e,t)];case 1:return o=i.sent(),n&&Ue(o,this,n),r?[2,o]:[3,2];case 2:return[4,this.publishPreview(o)];case 3:return[2,i.sent()]}}))}))},t.prototype.publishPreview=function(e){return ke(this,void 0,void 0,(function(){var t=this;return xe(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,r){var o=t.getSession();o?o.publish(e,(function(o){o&&r(o),t.addPublisher(e.stream.videoType,e),n(e)})):r("Unable to publish without an active connection to a session")}))];case 1:return[2,n.sent()]}}))}))},t.prototype.unpublish=function(e){var t=e.stream.videoType,n=this.getSession();n&&n.unpublish(e),this.removePublisher(t,e)},t.prototype.subscribe=function(e,t,n,r){return void 0===r&&(r=null),ke(this,void 0,void 0,(function(){var o=this;return xe(this,(function(i){switch(i.label){case 0:return[4,new Promise((function(i,s){var a=o.getSession();if(a)var c=a.subscribe(e,t,n,(function(e){e?s(e):(o.addSubscriber(c),r&&Ue(c,o,r),i(c))}));else s("Unable to subscribe to a stream when not connected to a session")}))];case 1:return[2,i.sent()]}}))}))},t.prototype.unsubscribe=function(e){return ke(this,void 0,void 0,(function(){var t=this;return xe(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var r=t.getSession();t.removeSubscriber(e),r&&r.unsubscribe(e),n()}))];case 1:return[2,n.sent()]}}))}))},t.prototype.connect=function(e){return void 0===e&&(e=null),ke(this,void 0,void 0,(function(){var t=this;return xe(this,(function(n){switch(n.label){case 0:return this.off(),this.setInternalListeners(),e&&this.on(e),[4,new Promise((function(e,n){var r=t.getCredentials();if(r&&r.token){var o=t.getSession();o&&o.connect(r.token,(function(t){t?n(t):e()}))}else n("Token not provided")}))];case 1:return[2,n.sent()]}}))}))},t.prototype.forceDisconnect=function(e){return ke(this,void 0,void 0,(function(){var t=this;return xe(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,r){var o=t.getSession();o&&o.forceDisconnect(e,(function(e){e?r(e):n()}))}))];case 1:return[2,n.sent()]}}))}))},t.prototype.forceUnpublish=function(e){return ke(this,void 0,void 0,(function(){var t=this;return xe(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,r){var o=t.getSession();o&&o.forceUnpublish(e,(function(e){e?r(e):n()}))}))];case 1:return[2,n.sent()]}}))}))},t.prototype.signal=function(e,t,n){return ke(this,void 0,void 0,(function(){var r,o,i=this;return xe(this,(function(s){switch(s.label){case 0:return r=JSON.stringify(t),o=n?{type:e,data:r,to:n}:{type:e,data:r},[4,new Promise((function(e,t){var n=i.getSession();n&&n.signal(o,(function(n){n?t(n):e()}))}))];case 1:return[2,s.sent()]}}))}))},t.prototype.disconnect=function(){var e=this.getSession();e&&e.disconnect(),this.reset()},t.prototype.state=function(){return this.all()},t.prototype.initPublisher=function(e,t){return ke(this,void 0,void 0,(function(){return xe(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n,r){var o=OT.initPublisher(e,t,(function(e){e?r(e):n(o)}))}))];case 1:return[2,n.sent()]}}))}))},t}(Ve(le).default);Le.default=Re,"undefined"!=typeof window&&(window.OpenTokSDK=Re);var Ke=function(e,t,n,r){if("string"!=typeof n||"function"!=typeof r)throw new Ie.default("otSDK","'on' requires a string and a function to create an event listener.","invalidParameters");e.on(n,r.bind(t))},Ue=function(e,t,n){var r=function(n){Object.keys(n).forEach((function(r){Ke(e,t,r,n[r])}))};Array.isArray(n)?n.forEach((function(e){return r(e)})):r(n)},Ne=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Be=Object.prototype.toString;function qe(e){return"[object Array]"===Be.call(e)}function Fe(e){return void 0===e}function ze(e){return null!==e&&"object"==typeof e}function He(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),qe(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var Je={isArray:qe,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Be.call(e)},isBuffer:function(e){return null!==e&&!Fe(e)&&null!==e.constructor&&!Fe(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:ze,isUndefined:Fe,isDate:function(e){return"[object Date]"===Be.call(e)},isFile:function(e){return"[object File]"===Be.call(e)},isBlob:function(e){return"[object Blob]"===Be.call(e)},isStream:function(e){return ze(e)&&function(e){return"[object Function]"===Be.call(e)}(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:He,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)He(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,o=arguments.length;r<o;r++)He(arguments[r],n);return t},extend:function(e,t,n){return He(t,(function(t,r){e[r]=n&&"function"==typeof t?Ne(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function Ge(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Xe=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(Je.isURLSearchParams(t))r=t.toString();else{var o=[];Je.forEach(t,(function(e,t){null!=e&&(Je.isArray(e)?t+="[]":e=[e],Je.forEach(e,(function(e){Je.isDate(e)?e=e.toISOString():Je.isObject(e)&&(e=JSON.stringify(e)),o.push(Ge(t)+"="+Ge(e))})))})),r=o.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},We={};function $e(){this.handlers=[]}$e.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},$e.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},$e.prototype.forEach=function(e){Je.forEach(this.handlers,(function(t){null!==t&&e(t)}))},We=$e;var Qe,Ye,Ze,et=function(e,t,n){return Je.forEach(n,(function(n){e=n(e,t)})),e},tt=function(e){return!(!e||!e.__CANCEL__)},nt=function(e,t){Je.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},rt=function(e,t,n,r,o){return function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,o)},ot=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],it=Je.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Je.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},st=function(e){return new Promise((function(n,r){var o=e.data,i=e.headers;Je.isFormData(o)&&delete i["Content-Type"];var s=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",c=e.auth.password||"";i.Authorization="Basic "+btoa(a+":"+c)}var u,l,h=(u=e.baseURL,l=e.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(u,l):l);if(s.open(e.method.toUpperCase(),Xe(h,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in s?(i=s.getAllResponseHeaders(),l={},i?(Je.forEach(i.split("\n"),(function(e){if(u=e.indexOf(":"),a=Je.trim(e.substr(0,u)).toLowerCase(),c=Je.trim(e.substr(u+1)),a){if(l[a]&&ot.indexOf(a)>=0)return;l[a]="set-cookie"===a?(l[a]?l[a]:[]).concat([c]):l[a]?l[a]+", "+c:c}})),l):l):null,o={data:e.responseType&&"text"!==e.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:t,config:e,request:s};(function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(rt("Request failed with status code "+n.status,n.config,null,n.request,n))})(n,r,o),s=null}var i,a,c,u,l},s.onabort=function(){s&&(r(rt("Request aborted",e,"ECONNABORTED",s)),s=null)},s.onerror=function(){r(rt("Network Error",e,null,s)),s=null},s.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(rt(t,e,"ECONNABORTED",s)),s=null},Je.isStandardBrowserEnv()){var f=t({}),p=(e.withCredentials||it(h))&&e.xsrfCookieName?f.read(e.xsrfCookieName):void 0;p&&(i[e.xsrfHeaderName]=p)}if("setRequestHeader"in s&&Je.forEach(i,(function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete i[t]:s.setRequestHeader(t,e)})),Je.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),e.responseType)try{s.responseType=e.responseType}catch(xt){if("json"!==e.responseType)throw xt}"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){s&&(s.abort(),r(e),s=null)})),void 0===o&&(o=null),s.send(o)}))},at=Qe={};function ct(){throw new Error("setTimeout has not been defined")}function ut(){throw new Error("clearTimeout has not been defined")}function lt(e){if(Ye===setTimeout)return setTimeout(e,0);if((Ye===ct||!Ye)&&setTimeout)return Ye=setTimeout,setTimeout(e,0);try{return Ye(e,0)}catch(xt){try{return Ye.call(null,e,0)}catch(xt){return Ye.call(this,e,0)}}}!function(){try{Ye="function"==typeof setTimeout?setTimeout:ct}catch(xt){Ye=ct}try{Ze="function"==typeof clearTimeout?clearTimeout:ut}catch(xt){Ze=ut}}();var ht,ft=[],pt=!1,dt=-1;function vt(){pt&&ht&&(pt=!1,ht.length?ft=ht.concat(ft):dt=-1,ft.length&&bt())}function bt(){if(!pt){var e=lt(vt);pt=!0;for(var t=ft.length;t;){for(ht=ft,ft=[];++dt<t;)ht&&ht[dt].run();dt=-1,t=ft.length}ht=null,pt=!1,function(e){if(Ze===clearTimeout)return clearTimeout(e);if((Ze===ut||!Ze)&&clearTimeout)return Ze=clearTimeout,clearTimeout(e);try{Ze(e)}catch(xt){try{return Ze.call(null,e)}catch(xt){return Ze.call(this,e)}}}(e)}}function gt(e,t){this.fun=e,this.array=t}function mt(){}at.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ft.push(new gt(e,t)),1!==ft.length||pt||lt(bt)},gt.prototype.run=function(){this.fun.apply(null,this.array)},at.title="browser",at.browser=!0,at.env={},at.argv=[],at.version="",at.versions={},at.on=mt,at.addListener=mt,at.once=mt,at.off=mt,at.removeListener=mt,at.removeAllListeners=mt,at.emit=mt,at.prependListener=mt,at.prependOnceListener=mt,at.listeners=function(e){return[]},at.binding=function(e){throw new Error("process.binding is not supported")},at.cwd=function(){return"/"},at.chdir=function(e){throw new Error("process.chdir is not supported")},at.umask=function(){return 0};var yt={};function St(e){e.cancelToken&&e.cancelToken.throwIfRequested()}(function(e){(function(){"use strict";var t={"Content-Type":"application/x-www-form-urlencoded"};function n(e,t){!Je.isUndefined(e)&&Je.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var r,o={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(r=st),r),transformRequest:[function(e,t){return nt(t,"Accept"),nt(t,"Content-Type"),Je.isFormData(e)||Je.isArrayBuffer(e)||Je.isBuffer(e)||Je.isStream(e)||Je.isFile(e)||Je.isBlob(e)?e:Je.isArrayBufferView(e)?e.buffer:Je.isURLSearchParams(e)?(n(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Je.isObject(e)?(n(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(xt){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Je.forEach(["delete","get","head"],(function(e){o.headers[e]={}})),Je.forEach(["post","put","patch"],(function(e){o.headers[e]=Je.merge(t)})),yt=o}).call(this)}).call(this,Qe);var Ot=function(e){return St(e),e.headers=e.headers||{},e.data=et(e.data,e.headers,e.transformRequest),e.headers=Je.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Je.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||yt.adapter)(e).then((function(t){return St(e),t.data=et(t.data,t.headers,e.transformResponse),t}),(function(t){return tt(t)||(St(e),t&&t.response&&(t.response.data=et(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Ct=function(e,t){t=t||{};var n={},r=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Je.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),Je.forEach(o,(function(r){Je.isObject(t[r])?n[r]=Je.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:Je.isObject(e[r])?n[r]=Je.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),Je.forEach(i,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var s=r.concat(o).concat(i),a=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return Je.forEach(a,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n},wt={};function Pt(e){this.defaults=e,this.interceptors={request:new We,response:new We}}Pt.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Ct(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[Ot,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},Pt.prototype.getUri=function(e){return e=Ct(this.defaults,e),Xe(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},Je.forEach(["delete","get","head","options"],(function(e){Pt.prototype[e]=function(t,n){return this.request(Je.merge(n||{},{method:e,url:t}))}})),Je.forEach(["post","put","patch"],(function(e){Pt.prototype[e]=function(t,n,r){return this.request(Je.merge(r||{},{method:e,url:t,data:n}))}})),wt=Pt;var _t={};function Tt(e){this.message=e}Tt.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Tt.prototype.__CANCEL__=!0,_t=Tt;var Et;function At(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new _t(e),t(n.reason))}))}At.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},At.source=function(){var e;return{token:new At((function(t){e=t})),cancel:e}},Et=At;var Lt={};function jt(e){var t=new wt(e),n=Ne(wt.prototype.request,t);return Je.extend(n,wt.prototype,t),Je.extend(n,t),n}var kt=jt(yt);kt.Axios=wt,kt.create=function(e){return jt(Ct(kt.defaults,e))},kt.Cancel=_t,kt.CancelToken=Et,kt.isCancel=tt,kt.all=function(e){return Promise.all(e)},kt.spread=function(e){return function(t){return e.apply(null,t)}},(Lt=kt).default=kt;var xt,Dt=Lt,Mt={},Vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};xt=function(e){var t=!1,n=void 0,r=function(r){var o=function(e){if(!e.clientVersion)throw console.log("Error. The clientVersion field cannot be null in the log entry"),new Error("The clientVersion field cannot be null in the log entry");if(!e.source)throw console.log("Error. The source field cannot be null in the log entry"),new Error("The source field cannot be null in the log entry");if(!e.componentId)throw console.log("Error. The componentId field cannot be null in the log entry"),new Error("The componentId field cannot be null in the log entry");if(!e.name)throw console.log("Error. The name field cannot be null in the log entry"),new Error("The guid field cannot be null in the log entry");var t=e.logVersion||"2",n=e.clientSystemTime||(new Date).getTime();return It({},e,{logVersion:t,clientSystemTime:n})}(r);if(t)e.post(n,o);else{var i=new XMLHttpRequest;i.open("POST",n,!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(o))}};return function(){function e(r,o){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.analyticsData=r,t=o&&o.server;var i="hlg.tokbox.com/prod/logging/ClientEvent";n=o&&o.proxyUrl&&o.proxyUrl+"/"+i||"https://"+i,this.analyticsData.guid=function(e){return function(e){if(t)return null;for(var n=e+"=",r=document.cookie.split(";"),o=void 0,i=0;i<r.length;i++){for(o=r[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return null}(e)||function(e,n,r){if(t)return n;var o=void 0;(o=new Date).setTime(o.getTime()+6048e5);var i=[e,"=",n,["; expires=",o.toGMTString()].join(""),"; path=/"].join("");return document.cookie=i,n}(e,function(){for(var e=[],t="0123456789abcdef",n=0;n<36;n++)e.push(t.substr(Math.floor(16*Math.random()),1));return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}())}(r.name)}return Vt(e,[{key:"addSessionInfo",value:function(e){if(!e.sessionId)throw console.log("Error. The sessionId field cannot be null in the log entry"),new Error("The sessionId field cannot be null in the log entry");if(this.analyticsData.sessionId=e.sessionId,!e.connectionId)throw console.log("Error. The connectionId field cannot be null in the log entry"),new Error("The connectionId field cannot be null in the log entry");if(this.analyticsData.connectionId=e.connectionId,0===e.partnerId)throw console.log("Error. The partnerId field cannot be null in the log entry"),new Error("The partnerId field cannot be null in the log entry");this.analyticsData.partnerId=e.partnerId}},{key:"logEvent",value:function(e){this.analyticsData=It({},this.analyticsData,e,{clientSystemTime:(new Date).getTime()}),r(this.analyticsData)}}]),e}()},"function"==typeof define&&define.amd?define(["axios"],xt):"object"===(void 0===Mt?"undefined":Rt(Mt))?Mt=xt(Dt):this.OTKAnalytics=xt();var Kt={},Ut=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});var Nt=Ut(Mt),Bt=function(){function e(e,t,n,r,o){var i={clientVersion:"js-vsol-x.y.z",source:e,componentId:"acceleratorCore",name:o||"coreAccelerator",partnerId:r};this.analytics=new Nt.default(i),n&&this.update(t,n,r)}return e.prototype.update=function(e,t,n){if(e&&t&&n){var r={sessionId:e,connectionId:t,partnerId:n};this.analytics.addSessionInfo(r)}},e.prototype.log=function(e,t){this.analytics.logEvent({action:e,variation:t})},e}();Kt.default=Bt;var qt={},Ft=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(qt,"__esModule",{value:!0}),qt.properCase=qt.pathOr=qt.path=qt.dom=qt.message=void 0,qt.message=function(e){console.log("otAccCore: "+e)};var zt=function(){function e(){}return e.query=function(e){return document.querySelector(e)},e.id=function(e){return document.getElementById(e)},e.class=function(e){return document.getElementsByClassName(e)},e.element=function(e){return"string"==typeof e?this.query(e):e},e}();qt.dom=zt,qt.path=function(e,t){var n,r,o=t,i="string"==typeof e?e.split("."):e;try{for(var s=Ft(i),a=s.next();!a.done;a=s.next())if(void 0===(o=o[a.value]))return o}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return o},qt.pathOr=function(e,t,n){var r=qt.path(t,n);return void 0===r?e:r},qt.properCase=function(e){return""+e[0].toUpperCase()+e.slice(1)};var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.defaultCallProperties=Ht.acceleratorEvents=void 0,Ht.acceleratorEvents={session:["archiveStarted","archiveStopped","connectionCreated","connectionDestroyed","sessionConnected","sessionDisconnected","sessionReconnected","sessionReconnecting","signal","streamCreated","streamDestroyed","streamPropertyChanged"],core:["connected","startScreenShare","endScreenShare","error"],communication:["startCall","endCall","callPropertyChanged","subscribeToCamera","subscribeToScreen","subscribeToSip","unsubscribeFromCamera","unsubscribeFromSip","unsubscribeFromScreen","startViewingSharedScreen","endViewingSharedScreen"],textChat:["showTextChat","hideTextChat","messageSent","errorSendingMessage","messageReceived"],screenSharing:["startScreenSharing","endScreenSharing","screenSharingError"],annotation:["startAnnotation","linkAnnotation","resizeCanvas","annotationWindowClosed","endAnnotation"],archiving:["startArchive","stopArchive","archiveReady","archiveError"]},Ht.defaultCallProperties={insertMode:"append",width:"100%",height:"100%",showControls:!1,style:{buttonDisplayMode:"off"}};var Jt={},Gt=this&&this.__assign||function(){return(Gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Xt=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(xt){i(xt)}}function a(e){try{c(r.throw(e))}catch(xt){i(xt)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},Wt=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(xt){i=[6,xt],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},$t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jt,"__esModule",{value:!0});var Qt=$t(n),Yt=function(e){var t=this;this.active=!1,this.validateOptions=function(e){var n,r,o;["core","analytics","session"].forEach((function(t){if(!e[t])throw new Qt.default("otAccCore",t+" is a required option.","invalidParameters")})),t.core=e.core,t.OpenTokSDK=t.core.OpenTokSDK,t.analytics=e.analytics,t.streamContainers=e.streamContainers,t.connectionLimit=null===(n=e.coreCommunicationOptions)||void 0===n?void 0:n.connectionLimit,t.autoSubscribe=e.coreCommunicationOptions&&e.coreCommunicationOptions.autoSubscribe||!0,t.subscribeOnly=e.coreCommunicationOptions&&e.coreCommunicationOptions.subscribeOnly||!1,t.callProperties=Object.assign({},Ht.defaultCallProperties,null===(r=e.coreCommunicationOptions)||void 0===r?void 0:r.callProperties),t.screenProperties=Object.assign({},Ht.defaultCallProperties,{videoSource:"window"},null===(o=e.coreCommunicationOptions)||void 0===o?void 0:o.screenProperties)},this.triggerEvent=function(e,n){return t.core.triggerEvent(e,n)},this.ableToJoin=function(){return!t.connectionLimit||Object.values(t.OpenTokSDK.getStreams()).filter((function(e){return e.videoType===ae.StreamType.Camera})).length<t.connectionLimit},this.publish=function(e){return Xt(t,void 0,void 0,(function(){var t,n,r,o,i;return Wt(this,(function(s){switch(s.label){case 0:if(this.subscribeOnly)return qt.message("Instance is configured with subscribeOnly set to true. Cannot publish to session"),[2,void 0];this.analytics.log(_e.LogAction.startCall,_e.LogVariation.attempt),s.label=1;case 1:return s.trys.push([1,3,,4]),t=Object.assign({},this.callProperties,e),n=qt.dom.element(this.streamContainers("publisher",ae.StreamType.Camera)),[4,this.OpenTokSDK.publish(n,t)];case 2:return r=s.sent(),this.OpenTokSDK.addPublisher(ae.StreamType.Camera,r),[2,r];case 3:return o=s.sent(),this.analytics.log(_e.LogAction.startCall,_e.LogVariation.fail),i=1010===o.code?"Check your network connection":o.message,this.triggerEvent("error",i),[2,void 0];case 4:return[2]}}))}))},this.subscribe=function(e,n,r){return void 0===r&&(r=!1),Xt(t,void 0,void 0,(function(){var t,o,i,s,a,c,u;return Wt(this,(function(l){switch(l.label){case 0:return console.log("yuppers"),this.analytics.log(_e.LogAction.subscribe,_e.LogVariation.attempt),t=this.OpenTokSDK.getStreamMap(),o=e.videoType||ae.StreamType.SIP,!t[e.streamId]||r?[3,1]:[2,this.OpenTokSDK.getSubscriber(e.streamId)];case 1:i=void 0;try{i=JSON.parse(e.connection.data||null)}catch(xt){i=e.connection.data}s=qt.dom.element(this.streamContainers("subscriber",o,i,e.streamId)),a=Object.assign({},o===ae.StreamType.Camera||o===ae.StreamType.SIP?this.callProperties:this.screenProperties,n),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.OpenTokSDK.subscribe(e,s,a)];case 3:return c=l.sent(),this.triggerEvent("subscribeTo"+qt.properCase(o),Object.assign({},{subscriber:c},this.OpenTokSDK.all())),this.analytics.log(_e.LogAction.subscribe,_e.LogVariation.success),[2,c];case 4:return u=l.sent(),this.analytics.log(_e.LogAction.subscribe,_e.LogVariation.fail),[2,Promise.reject(u)];case 5:return[2]}}))}))},this.unsubscribe=function(e){return Xt(t,void 0,void 0,(function(){return Wt(this,(function(t){switch(t.label){case 0:return this.analytics.log(_e.LogAction.unsubscribe,_e.LogVariation.attempt),[4,this.OpenTokSDK.unsubscribe(e)];case 1:return t.sent(),this.analytics.log(_e.LogAction.unsubscribe,_e.LogVariation.success),[2]}}))}))},this.onStreamCreated=function(e){return Xt(t,void 0,void 0,(function(){return Wt(this,(function(t){switch(t.label){case 0:return console.dir({a:this.active,b:this.autoSubscribe,c:e}),this.active&&this.autoSubscribe&&e.stream?[4,this.subscribe(e.stream)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},this.onStreamDestroyed=function(e){var n=e.stream.videoType||ae.StreamType.SIP;t.triggerEvent("unsubscribeFrom"+qt.properCase(n),t.OpenTokSDK.getPubSub())},this.createEventListeners=function(){t.core.on("streamCreated",t.onStreamCreated),t.core.on("streamDestroyed",t.onStreamDestroyed)},this.startCall=function(e){return Xt(t,void 0,void 0,(function(){var t,n,r,o,i,s,a=this;return Wt(this,(function(c){switch(c.label){case 0:if(this.analytics.log(_e.LogAction.startCall,_e.LogVariation.attempt),this.active=!0,t=this.OpenTokSDK.getStreams(),!this.ableToJoin())return n="Session has reached its connection limit",this.triggerEvent("error",n),this.analytics.log(_e.LogAction.startCall,_e.LogVariation.fail),[2,Promise.reject(new Qt.default("otCore",n,"connectionLimit"))];c.label=1;case 1:return c.trys.push([1,4,,5]),[4,this.publish(e)];case 2:return r=c.sent(),o=function(){return a.autoSubscribe?Object.values(t).map((function(e){return a.subscribe(e)})):[Promise.resolve()]},[4,Promise.all(o())];case 3:return c.sent(),i=Object.assign({},this.OpenTokSDK.getPubSub(),{publisher:r}),this.triggerEvent("startCall",i),[2,i];case 4:return s=c.sent(),qt.message("Failed to subscribe to all existing streams: "+s),[2,Object.assign({},this.OpenTokSDK.getPubSub(),{publisher:r})];case 5:return[2]}}))}))},this.endCall=function(){return Xt(t,void 0,void 0,(function(){var e,t,n,r,o,i=this;return Wt(this,(function(s){switch(s.label){case 0:return this.analytics.log(_e.LogAction.endCall,_e.LogVariation.attempt),e=this.OpenTokSDK.getPubSub(),t=e.publishers,n=e.subscribers,r=function(e){return i.OpenTokSDK.unpublish(e)},Object.values(t.camera).forEach(r),Object.values(t.screen).forEach(r),o=function(e){var t=Gt(Gt({},e.camera),e.screen);return Object.values(t).map((function(e){return i.unsubscribe(e)}))},[4,Promise.all(o(n))];case 1:return s.sent(),this.active=!1,this.triggerEvent("endCall",null),this.analytics.log(_e.LogAction.endCall,_e.LogVariation.success),[2]}}))}))},this.enableLocalAV=function(e,n,r){var o="publish"+qt.properCase(n),i=t.OpenTokSDK.getPubSub().publishers;(i.camera[e]||i.screen[e])[o](r)},this.enableRemoteAV=function(e,n,r){var o="subscribeTo"+qt.properCase(n),i=t.OpenTokSDK.getPubSub().subscribers;(i.camera[e]||i.sip[e])[o](r)},this.validateOptions(e),this.createEventListeners()};Jt.default=Yt;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.AcceleratorPackages=void 0;var en=function(e,t,n,r){this.TextChat=e,this.ScreenSharing=t,this.Annotation=n,this.Archiving=r};Zt.AcceleratorPackages=en;var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.LinkCanvasOptions=void 0;var nn=function(e,t,n,r){this.absoluteParent=e,this.canvasContainer=t,this.externalWindow=n,this.mobileInitiator=r};tn.LinkCanvasOptions=nn;var rn={},on=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(xt){i(xt)}}function a(e){try{c(r.throw(e))}catch(xt){i(xt)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},sn=this&&this.__generator||function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(xt){i=[6,xt],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},an=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});var cn=an(Le),un=an(Kt),ln=an(Jt),hn=an(n),fn=function(){function e(e){var t=this;this.connect=function(){return on(t,void 0,void 0,(function(){var e,t,n;return sn(this,(function(r){switch(r.label){case 0:this.analytics.log(_e.LogAction.connect,_e.LogVariation.attempt),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.OpenTokSDK.connect()];case 2:return r.sent(),e=this.getSession(),t=this.getCredentials(),this.analytics.update(t.sessionId,e.connection.connectionId,t.apiKey),this.analytics.log(_e.LogAction.connect,_e.LogVariation.success),this.initPackages(),this.triggerEvent(_e.CoreEvents.Connected,e),[3,4];case 3:throw n=r.sent(),qt.message(n),this.analytics.log(_e.LogAction.connect,_e.LogVariation.fail),new Error(n);case 4:return[2]}}))}))},this.getSession=function(){return t.OpenTokSDK.getSession()},this.getCredentials=function(){return t.OpenTokSDK.getCredentials()},this.getOptions=function(){return t.OpenTokSDK.getOptions()},this.on=function(e,n){"string"==typeof e?t.eventListeners[e]?t.eventListeners[e].add(n):qt.message(e+" is not a registered event."):Object.keys(e).forEach((function(n){t.on(n,e[n])}))},this.off=function(e,n){e||n?t.eventListeners[e]?t.eventListeners[e].delete(n):qt.message(e+" is not a registered event."):Object.keys(t.eventListeners).forEach((function(e){t.eventListeners[e].clear()}))},this.createEventListeners=function(){t.eventListeners={},Object.keys(Ht.acceleratorEvents).forEach((function(e){return t.registerEvents(Ht.acceleratorEvents[e])}));var e=t.OpenTokSDK.getOptions(),n=t.OpenTokSDK.getSession(),r=e.screenSharing&&e.screenSharing.annotation,o=r&&e.screenSharing.externalWindow;Ht.acceleratorEvents.session.forEach((function(e){t.OpenTokSDK.on(e,(function(n){t.triggerEvent(e,n)}))})),r&&(t.on(_e.CoreEvents.StartScreenShare,(function(r){t.annotation.start(n).then((function(){if(e.annotation&&e.annotation.absoluteParent&&e.annotation.absoluteParent.subscriber){var n=qt.dom.query(e.annotation.absoluteParent.subscriber),o=n?{absoluteParent:n}:null,i=r.subscriber;t.annotation.linkCanvas(i,i.element.parentElement,o)}}))})),t.on(_e.CoreEvents.EndScreenShare,(function(){t.annotation.end()}))),t.on(_e.ScreenSharingEvents.StartScreensharing,(function(r){t.OpenTokSDK.addPublisher(ae.StreamType.Screen,r),t.triggerEvent(_e.CoreEvents.StartScreenShare,new ae.StartScreenShareEvent(r,t.OpenTokSDK.getPubSub())),o&&t.annotation.start(n).then((function(){if(e.annotation&&e.annotation.absoluteParent&&e.annotation.absoluteParent.publisher){var n=qt.dom.query(e.annotation.absoluteParent.publisher),o=n?{absoluteParent:n}:null;t.annotation.linkCanvas(r,r.element.parentElement,o)}}))})),t.on(_e.ScreenSharingEvents.EndScreenSharing,(function(e){t.OpenTokSDK.removePublisher(ae.StreamType.Screen,e),t.triggerEvent(_e.CoreEvents.EndScreenShare,new ae.EndScreenShareEvent(t.OpenTokSDK.getPubSub())),r&&t.annotation.end()}))},this.registerEvents=function(e){(Array.isArray(e)?e:[e]).forEach((function(e){t.eventListeners[e]||(t.eventListeners[e]=new Set)}))},this.triggerEvent=function(e,n){var r=t.eventListeners[e];console.log("triggerEvent: "+e),r?r.forEach((function(e){return e(n)})):(t.registerEvents(e),qt.message(e+" has been registered as a new event."))},this.initPackages=function(){t.analytics.log(_e.LogAction.initPackages,_e.LogVariation.attempt);var e=t.getSession(),n=t.getOptions(),r=function(e,n){throw t.analytics.log(_e.LogAction.initPackages,_e.LogVariation.fail),new hn.default("otAccCore","Could not load "+e,"missingDependency")},o={textChat:function(){return r("opentok-text-chat")},screenSharing:function(){return r("opentok-screen-sharing")},annotation:function(){return r("opentok-annotation")},archiving:function(){return r("opentok-archiving")}},i=new Zt.AcceleratorPackages;(n.packages||[]).forEach((function(e){if(o[e]){var t=o[e];i[qt.properCase(e)]=t()}else qt.message(e+" is not a valid accelerator pack")}));var s=function(e){return document.getElementById(e+"Container")},a=function(r){var o,i,a=(o=n.controlsContainer||"#videoControls",i=n.textChat&&n.textChat.container||"#chat",{stream:n.streamContainers||s,controls:o,chat:i}),c=!!a.controls,u=a.controls,l=a.stream,h={session:e,core:t,controlsContainer:u,appendControl:c,streamContainers:l};switch(r){case _e.Packages.Annotation:return Object.assign({},h,n.annotation);case _e.Packages.Archiving:return Object.assign({},h,n.archiving);case _e.Packages.Communication:return new ae.CommunicationOptions(t.analytics,t,e,c,u,n.communication,l);case _e.Packages.ScreenSharing:var f={screenSharingContainer:l};return Object.assign({},h,f,n.screenSharing);case _e.Packages.TextChat:var p={textChatContainer:n.textChat&&n.textChat.container||void 0,waitingMessage:n.textChat&&n.textChat.waitingMessage||void 0,sender:{alias:n.textChat&&n.textChat.name||void 0},alwaysOpen:n.textChat&&n.textChat.alwaysOpen||void 0};return Object.assign({},h,p);default:return{}}};t.communication=new ln.default(a("communication")),t.textChat=i.TextChat?i.TextChat(a("textChat")):null,t.screenSharing=i.ScreenSharing?i.ScreenSharing(a("screenSharing")):null,t.annotation=i.Annotation?i.Annotation(a("annotation")):null,t.archiving=i.Archiving?i.Archiving(a("archiving")):null,t.analytics.log(_e.LogAction.initPackages,_e.LogVariation.success)},this.setupExternalAnnotation=function(){return on(t,void 0,void 0,(function(){return sn(this,(function(e){switch(e.label){case 0:return[4,this.annotation.start(this.OpenTokSDK.getSession(),{screensharing:!0})];case 1:return[2,e.sent()]}}))}))},this.linkAnnotation=function(e,n,r){if(t.annotation.linkCanvas(e,n,new tn.LinkCanvasOptions(r)),r){var o=t.OpenTokSDK.getStreams();Object.keys(o).reduce((function(e,t){var n=o[t];return n.videoType===ae.StreamType.Camera||n.videoType===ae.StreamType.SIP?e.concat(n):e}),[]).forEach(t.annotation.addSubscriberToExternalWindow)}},this.getAccPack=function(e){t.analytics.log(_e.LogAction.getAccPack,_e.LogVariation.attempt);var n={textChat:t.textChat,screenSharing:t.screenSharing,annotation:t.annotation,archiving:t.archiving};return t.analytics.log(_e.LogAction.getAccPack,_e.LogVariation.success),n[e]},this.disconnect=function(){t.analytics.log(_e.LogAction.disconnect,_e.LogVariation.attempt),t.OpenTokSDK.disconnect(),t.analytics.log(_e.LogAction.disconnect,_e.LogVariation.success)},this.forceDisconnect=function(e){return on(t,void 0,void 0,(function(){var t;return sn(this,(function(n){switch(n.label){case 0:this.analytics.log(_e.LogAction.forceDisconnect,_e.LogVariation.attempt),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.OpenTokSDK.forceDisconnect(e)];case 2:return n.sent(),this.analytics.log(_e.LogAction.forceDisconnect,_e.LogVariation.success),[3,4];case 3:throw t=n.sent(),this.analytics.log(_e.LogAction.forceDisconnect,_e.LogVariation.fail),t;case 4:return[2]}}))}))},this.startCall=function(e){return on(t,void 0,void 0,(function(){return sn(this,(function(t){switch(t.label){case 0:return[4,this.communication.startCall(e)];case 1:return[2,t.sent()]}}))}))},this.endCall=function(){return on(t,void 0,void 0,(function(){return sn(this,(function(e){switch(e.label){case 0:return[4,this.communication.endCall()];case 1:return[2,e.sent()]}}))}))},this.state=function(){return t.OpenTokSDK.all()},this.subscribe=function(e,n,r){return void 0===r&&(r=!1),on(t,void 0,void 0,(function(){return sn(this,(function(t){return[2,this.communication.subscribe(e,n,r)]}))}))},this.unsubscribe=function(e){return on(t,void 0,void 0,(function(){return sn(this,(function(t){switch(t.label){case 0:return[4,this.communication.unsubscribe(e)];case 1:return[2,t.sent()]}}))}))},this.forceUnpublish=function(e){return on(t,void 0,void 0,(function(){var t;return sn(this,(function(n){switch(n.label){case 0:this.analytics.log(_e.LogAction.forceUnpublish,_e.LogVariation.attempt),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.OpenTokSDK.forceUnpublish(e)];case 2:return n.sent(),this.analytics.log(_e.LogAction.forceUnpublish,_e.LogVariation.success),[3,4];case 3:throw t=n.sent(),this.analytics.log(_e.LogAction.forceUnpublish,_e.LogVariation.fail),t;case 4:return[2]}}))}))},this.getPublisherForStream=function(e){return t.getSession().getPublisherForStream(e)},this.getSubscribersForStream=function(e){return t.getSession().getSubscribersForStream(e)},this.signal=function(e,n,r){return on(t,void 0,void 0,(function(){var t;return sn(this,(function(o){switch(o.label){case 0:this.analytics.log(_e.LogAction.signal,_e.LogVariation.attempt),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.OpenTokSDK.signal(e,n,r)];case 2:return o.sent(),this.analytics.log(_e.LogAction.signal,_e.LogVariation.success),[3,4];case 3:throw t=o.sent(),this.analytics.log(_e.LogAction.signal,_e.LogVariation.fail),t;case 4:return[2]}}))}))},this.toggleLocalAudio=function(e){t.analytics.log(_e.LogAction.toggleLocalAudio,_e.LogVariation.attempt);var n=t.OpenTokSDK.getPubSub().publishers,r=function(n){return t.communication.enableLocalAV(n,"audio",e)};Object.keys(n.camera).forEach(r),Object.keys(n.screen).forEach(r),Object.keys(n.sip).forEach(r),t.analytics.log(_e.LogAction.toggleLocalAudio,_e.LogVariation.success)},this.toggleLocalVideo=function(e){t.analytics.log(_e.LogAction.toggleLocalVideo,_e.LogVariation.attempt);var n=t.OpenTokSDK.getPubSub().publishers,r=function(n){return t.communication.enableLocalAV(n,"video",e)};Object.keys(n.camera).forEach(r),Object.keys(n.screen).forEach(r),Object.keys(n.sip).forEach(r),t.analytics.log(_e.LogAction.toggleLocalVideo,_e.LogVariation.success)},this.toggleRemoteAudio=function(e,n){t.analytics.log(_e.LogAction.toggleRemoteAudio,_e.LogVariation.attempt),t.communication.enableRemoteAV(e,"audio",n),t.analytics.log(_e.LogAction.toggleRemoteAudio,_e.LogVariation.success)},this.toggleRemoteVideo=function(e,n){t.analytics.log(_e.LogAction.toggleRemoteVideo,_e.LogVariation.attempt),t.communication.enableRemoteAV(e,"video",n),t.analytics.log(_e.LogAction.toggleRemoteVideo,_e.LogVariation.success)},this.OpenTokSDK=new cn.default(e?e.credentials:null,e.largeScale?{connectionEventsSuppressed:!0}:void 0),this.analytics=new un.default(window.location.origin,e.credentials.sessionId,null,e.credentials.apiKey,e.applicationName),this.analytics.log(_e.LogAction.init,_e.LogVariation.attempt),this.OpenTokSDK.setOptions(e),this.createEventListeners(),this.analytics.log(_e.LogAction.init,_e.LogVariation.success)}return e.utils={dom:qt.dom,message:qt.message,path:qt.path,pathOr:qt.pathOr,properCase:qt.properCase},e}();rn.default=fn,"undefined"!=typeof window&&(window.AccCore=fn)}();